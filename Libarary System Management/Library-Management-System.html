<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library Management System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            width: 100%;
            max-width: 1200px;
            overflow: hidden;
        }

        .page {
            display: none;
            padding: 40px;
            animation: fadeIn 0.5s;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            color: #666;
            font-size: 1.1em;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin: 5px;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #218838;
        }

        .link-btn {
            background: none;
            border: none;
            color: #667eea;
            cursor: pointer;
            text-decoration: underline;
            font-size: 14px;
            margin-top: 10px;
        }

        .link-btn:hover {
            color: #5568d3;
        }

        .dashboard-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .dashboard-header h2 {
            font-size: 2em;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-card h3 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .stat-card p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .book-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }

        .book-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
        }

        .book-card h3 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .book-card p {
            color: #666;
            margin-bottom: 8px;
        }

        .book-card .status {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 600;
            margin-top: 10px;
        }

        .status.available {
            background: #d4edda;
            color: #155724;
        }

        .status.borrowed {
            background: #fff3cd;
            color: #856404;
        }

        .message {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }

        .message.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .message.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .message.active {
            display: block;
        }

        .search-bar {
            margin-bottom: 20px;
        }

        .search-bar input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Login Page -->
        <div id="loginPage" class="page active">
            <div class="header">
                <h1>ðŸ“š Library Management System</h1>
                <p>Welcome back! Please login to continue</p>
            </div>
            <div id="loginMessage" class="message"></div>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" required placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" required placeholder="Enter your password">
                </div>
                <button type="submit" class="btn btn-primary">Login</button>
                <br>
                <button type="button" class="link-btn" onclick="showPage('registerPage')">
                    Don't have an account? Register here
                </button>
            </form>
        </div>

        <!-- Register Page -->
        <div id="registerPage" class="page">
            <div class="header">
                <h1>ðŸ“š Create Account</h1>
                <p>Join our library management system</p>
            </div>
            <div id="registerMessage" class="message"></div>
            <form id="registerForm">
                <div class="form-group">
                    <label for="regName">Full Name</label>
                    <input type="text" id="regName" required placeholder="Enter your full name">
                </div>
                <div class="form-group">
                    <label for="regEmail">Email</label>
                    <input type="email" id="regEmail" required placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label for="regPassword">Password</label>
                    <input type="password" id="regPassword" required placeholder="Create a password" minlength="6">
                </div>
                <div class="form-group">
                    <label for="regConfirmPassword">Confirm Password</label>
                    <input type="password" id="regConfirmPassword" required placeholder="Confirm your password">
                </div>
                <button type="submit" class="btn btn-primary">Register</button>
                <button type="button" class="btn btn-secondary" onclick="showPage('loginPage')">Back</button>
                <br>
                <button type="button" class="link-btn" onclick="showPage('loginPage')">
                    Already have an account? Login here
                </button>
            </form>
        </div>

        <!-- Dashboard Page -->
        <div id="dashboardPage" class="page">
            <div class="dashboard-header">
                <div>
                    <h2>Library Dashboard</h2>
                    <p>Welcome, <span id="userName"></span>!</p>
                </div>
                <button class="btn btn-danger" onclick="logout()">Logout</button>
            </div>

            <div class="stats">
                <div class="stat-card">
                    <h3 id="totalBooks">0</h3>
                    <p>Total Books</p>
                </div>
                <div class="stat-card">
                    <h3 id="availableBooks">0</h3>
                    <p>Available Books</p>
                </div>
                <div class="stat-card">
                    <h3 id="borrowedBooks">0</h3>
                    <p>Borrowed Books</p>
                </div>
            </div>

            <button class="btn btn-success" onclick="showPage('addBookPage')">Add New Book</button>
            <button class="btn btn-primary" onclick="showPage('viewBooksPage')">View All Books</button>
        </div>

        <!-- Add Book Page -->
        <div id="addBookPage" class="page">
            <div class="header">
                <h1>Add New Book</h1>
                <p>Enter book details below</p>
            </div>
            <div id="addBookMessage" class="message"></div>
            <form id="addBookForm">
                <div class="form-group">
                    <label for="bookTitle">Book Title</label>
                    <input type="text" id="bookTitle" required placeholder="Enter book title">
                </div>
                <div class="form-group">
                    <label for="bookAuthor">Author</label>
                    <input type="text" id="bookAuthor" required placeholder="Enter author name">
                </div>
                <div class="form-group">
                    <label for="bookISBN">ISBN</label>
                    <input type="text" id="bookISBN" required placeholder="Enter ISBN">
                </div>
                <div class="form-group">
                    <label for="bookCategory">Category</label>
                    <select id="bookCategory" required>
                        <option value="">Select a category</option>
                        <option value="Fiction">Fiction</option>
                        <option value="Non-Fiction">Non-Fiction</option>
                        <option value="Science">Science</option>
                        <option value="History">History</option>
                        <option value="Biography">Biography</option>
                        <option value="Technology">Technology</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="bookYear">Publication Year</label>
                    <input type="number" id="bookYear" required placeholder="Enter year" min="1800" max="2025">
                </div>
                <button type="submit" class="btn btn-success">Add Book</button>
                <button type="button" class="btn btn-secondary" onclick="showPage('dashboardPage')">Back</button>
            </form>
        </div>

        <!-- View Books Page -->
        <div id="viewBooksPage" class="page">
            <div class="header">
                <h1>All Books</h1>
                <p>Browse and manage your library collection</p>
            </div>
            <button class="btn btn-secondary" onclick="showPage('dashboardPage')">Back to Dashboard</button>
            <div class="search-bar">
                <input type="text" id="searchBooks" placeholder="Search books by title, author, or ISBN..." onkeyup="searchBooks()">
            </div>
            <div id="booksGrid" class="books-grid"></div>
        </div>
    </div>

    <script>
        let users = [];
        let books = [];
        let currentUser = null;

        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
            
            if (pageId === 'dashboardPage') {
                updateDashboard();
            } else if (pageId === 'viewBooksPage') {
                displayBooks();
            }
        }

        function showMessage(elementId, message, type) {
            const msgElement = document.getElementById(elementId);
            msgElement.textContent = message;
            msgElement.className = `message ${type} active`;
            setTimeout(() => {
                msgElement.classList.remove('active');
            }, 3000);
        }

        document.getElementById('registerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('regName').value;
            const email = document.getElementById('regEmail').value;
            const password = document.getElementById('regPassword').value;
            const confirmPassword = document.getElementById('regConfirmPassword').value;

            if (password !== confirmPassword) {
                showMessage('registerMessage', 'Passwords do not match!', 'error');
                return;
            }

            if (users.find(u => u.email === email)) {
                showMessage('registerMessage', 'Email already registered!', 'error');
                return;
            }

            users.push({ name, email, password });
            showMessage('registerMessage', 'Registration successful! Redirecting to login...', 'success');
            
            setTimeout(() => {
                this.reset();
                showPage('loginPage');
            }, 1500);
        });

        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            const user = users.find(u => u.email === email && u.password === password);

            if (user) {
                currentUser = user;
                showMessage('loginMessage', 'Login successful!', 'success');
                setTimeout(() => {
                    this.reset();
                    showPage('dashboardPage');
                }, 1000);
            } else {
                showMessage('loginMessage', 'Invalid email or password!', 'error');
            }
        });

        document.getElementById('addBookForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const book = {
                id: Date.now(),
                title: document.getElementById('bookTitle').value,
                author: document.getElementById('bookAuthor').value,
                isbn: document.getElementById('bookISBN').value,
                category: document.getElementById('bookCategory').value,
                year: document.getElementById('bookYear').value,
                status: 'available'
            };

            books.push(book);
            showMessage('addBookMessage', 'Book added successfully!', 'success');
            
            setTimeout(() => {
                this.reset();
                showPage('dashboardPage');
            }, 1500);
        });

        function updateDashboard() {
            if (currentUser) {
                document.getElementById('userName').textContent = currentUser.name;
                document.getElementById('totalBooks').textContent = books.length;
                document.getElementById('availableBooks').textContent = books.filter(b => b.status === 'available').length;
                document.getElementById('borrowedBooks').textContent = books.filter(b => b.status === 'borrowed').length;
            }
        }

        function displayBooks(filteredBooks = null) {
            const booksToDisplay = filteredBooks || books;
            const grid = document.getElementById('booksGrid');
            
            if (booksToDisplay.length === 0) {
                grid.innerHTML = '<p style="text-align: center; color: #666; grid-column: 1/-1;">No books found.</p>';
                return;
            }

            grid.innerHTML = booksToDisplay.map(book => `
                <div class="book-card">
                    <h3>${book.title}</h3>
                    <p><strong>Author:</strong> ${book.author}</p>
                    <p><strong>ISBN:</strong> ${book.isbn}</p>
                    <p><strong>Category:</strong> ${book.category}</p>
                    <p><strong>Year:</strong> ${book.year}</p>
                    <span class="status ${book.status}">${book.status.toUpperCase()}</span>
                    <br><br>
                    ${book.status === 'available' 
                        ? `<button class="btn btn-primary" onclick="borrowBook(${book.id})">Borrow</button>`
                        : `<button class="btn btn-success" onclick="returnBook(${book.id})">Return</button>`
                    }
                    <button class="btn btn-danger" onclick="deleteBook(${book.id})">Delete</button>
                </div>
            `).join('');
        }

        function searchBooks() {
            const searchTerm = document.getElementById('searchBooks').value.toLowerCase();
            const filtered = books.filter(book => 
                book.title.toLowerCase().includes(searchTerm) ||
                book.author.toLowerCase().includes(searchTerm) ||
                book.isbn.toLowerCase().includes(searchTerm)
            );
            displayBooks(filtered);
        }

        function borrowBook(id) {
            const book = books.find(b => b.id === id);
            if (book) {
                book.status = 'borrowed';
                displayBooks();
            }
        }

        function returnBook(id) {
            const book = books.find(b => b.id === id);
            if (book) {
                book.status = 'available';
                displayBooks();
            }
        }

        function deleteBook(id) {
            if (confirm('Are you sure you want to delete this book?')) {
                books = books.filter(b => b.id !== id);
                displayBooks();
            }
        }

        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                currentUser = null;
                showPage('loginPage');
            }
        }

        // Initialize with sample data
        users.push({ name: 'Admin User', email: 'admin@library.com', password: 'admin123' });
        books.push(
            { id: 1, title: 'The Great Gatsby', author: 'F. Scott Fitzgerald', isbn: '978-0743273565', category: 'Fiction', year: '1925', status: 'available' },
            { id: 2, title: '1984', author: 'George Orwell', isbn: '978-0451524935', category: 'Fiction', year: '1949', status: 'available' },
            { id: 3, title: 'To Kill a Mockingbird', author: 'Harper Lee', isbn: '978-0061120084', category: 'Fiction', year: '1960', status: 'borrowed' }
        );
    </script>
</body>
</html>